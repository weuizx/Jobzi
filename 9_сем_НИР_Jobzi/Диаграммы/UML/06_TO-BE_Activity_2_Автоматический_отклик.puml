@startuml TO-BE_Activity_6_Auto_Processing
title –î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è TO-BE: –®–∞–≥–∏ 6-7 - –ü–æ–ª—É—á–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–∫–ª–∏–∫–∏ –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ –ë–î

skinparam activity {
  BackgroundColor<<Automated>> LightGreen
  BorderColor<<Automated>> DarkGreen
}

|–í—Ö–æ–¥–Ω—ã–µ/–í—ã—Ö–æ–¥–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã|–®–∞–≥ –ø—Ä–æ—Ü–µ—Å—Å–∞|–†–æ–ª—å: –°–æ–∏—Å–∫–∞—Ç–µ–ª—å|–†–æ–ª—å: Jobzi Bot|–†–æ–ª—å: PostgreSQL|

start

|–í—Ö–æ–¥–Ω—ã–µ/–í—ã—Ö–æ–¥–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã|
note right
  **–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
  ‚Ä¢ –ö–æ–¥ –≤–∞–∫–∞–Ω—Å–∏–∏ ABC123
  ‚Ä¢ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è /apply ABC123
end note

|–†–æ–ª—å: –°–æ–∏—Å–∫–∞—Ç–µ–ª—å|
:6.1. –£–≤–∏–¥–µ—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ
—Å –∫–æ–¥–æ–º ABC123;

|–†–æ–ª—å: –°–æ–∏—Å–∫–∞—Ç–µ–ª—å|
:6.2. –û—Ç–∫—Ä—ã—Ç—å @JobziBot;

|–†–æ–ª—å: –°–æ–∏—Å–∫–∞—Ç–µ–ª—å|
:6.3. –í–≤–µ—Å—Ç–∏ –∫–æ–º–∞–Ω–¥—É:
/apply ABC123;

|–†–æ–ª—å: Jobzi Bot|
:6.4. –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç –∫–æ–¥–∞
[A-Z]{3}\\d{3}; <<Automated>>

if (–§–æ—Ä–º–∞—Ç –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω?) then (–ù–µ—Ç)
  |–†–æ–ª—å: Jobzi Bot|
  :–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ:
  "–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∫–æ–¥.
  –ü—Ä–∏–º–µ—Ä: ABC123"; <<Automated>>
  stop
endif

|–†–æ–ª—å: PostgreSQL|
:6.5. SELECT * FROM vacancies
WHERE code = 'ABC123'
AND status = 'ACTIVE'; <<Automated>>

if (–í–∞–∫–∞–Ω—Å–∏—è –Ω–∞–π–¥–µ–Ω–∞?) then (–ù–µ—Ç)
  |–†–æ–ª—å: Jobzi Bot|
  :–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ:
  "–í–∞–∫–∞–Ω—Å–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
  –∏–ª–∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞"; <<Automated>>
  stop
endif

|–†–æ–ª—å: PostgreSQL|
:6.6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥—É–±–ª–∏:
SELECT * FROM applications
WHERE vacancy_id = X
AND user_id = Y; <<Automated>>

if (–û—Ç–∫–ª–∏–∫ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç?) then (–î–∞)
  |–†–æ–ª—å: Jobzi Bot|
  :–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ:
  "–í—ã —É–∂–µ –æ—Ç–∫–ª–∏–∫–Ω—É–ª–∏—Å—å
  –Ω–∞ —ç—Ç—É –≤–∞–∫–∞–Ω—Å–∏—é"; <<Automated>>
  stop
endif

|–†–æ–ª—å: Jobzi Bot|
:6.7. –ü–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ç–∞–ª–∏ –≤–∞–∫–∞–Ω—Å–∏–∏:
‚Ä¢ –ù–∞–∑–≤–∞–Ω–∏–µ
‚Ä¢ –û–ø–∏—Å–∞–Ω–∏–µ
‚Ä¢ –õ–æ–∫–∞—Ü–∏—è
‚Ä¢ –ó–∞—Ä–ø–ª–∞—Ç–∞; <<Automated>>

|–†–æ–ª—å: Jobzi Bot|
:6.8. –ü–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫–∏:
[‚úÖ –û—Ç–∫–ª–∏–∫–Ω—É—Ç—å—Å—è] [‚ùå –û—Ç–º–µ–Ω–∞]; <<Automated>>

|–í—Ö–æ–¥–Ω—ã–µ/–í—ã—Ö–æ–¥–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã|
note right
  **–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
  ‚Ä¢ –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –≤–∞–∫–∞–Ω—Å–∏–∏
  ‚Ä¢ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–º–µ–Ω—ã
end note

|–†–æ–ª—å: –°–æ–∏—Å–∫–∞—Ç–µ–ª—å|
:6.9. –ü—Ä–æ—á–∏—Ç–∞—Ç—å –¥–µ—Ç–∞–ª–∏;

|–†–æ–ª—å: –°–æ–∏—Å–∫–∞—Ç–µ–ª—å|
:6.10. –ù–∞–∂–∞—Ç—å
"‚úÖ –û—Ç–∫–ª–∏–∫–Ω—É—Ç—å—Å—è";

|–†–æ–ª—å: PostgreSQL|
:7.1. INSERT INTO applications
(vacancy_id, user_id,
status='NEW',
created_at=NOW()); <<Automated>>

|–í—Ö–æ–¥–Ω—ã–µ/–í—ã—Ö–æ–¥–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã|
note right
  **–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
  ‚Ä¢ application_id
  ‚Ä¢ –û—Ç–∫–ª–∏–∫ –≤ –ë–î —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º NEW
end note

|–†–æ–ª—å: PostgreSQL|
:7.2. SELECT * FROM questions
WHERE vacancy_id = X
ORDER BY order_index; <<Automated>>

|–†–æ–ª—å: Jobzi Bot|
:7.3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
APPLICATION_QUESTION_{N}; <<Automated>>

repeat
  |–†–æ–ª—å: Jobzi Bot|
  :7.4. –ü–æ–∫–∞–∑–∞—Ç—å –≤–æ–ø—Ä–æ—Å {N}/{M}:
  "{question_text}"
  [–ü—Ä–æ–≥—Ä–µ—Å—Å: ‚ñì‚ñì‚ñì‚ñë‚ñë‚ñë‚ñë‚ñë]; <<Automated>>

  |–í—Ö–æ–¥–Ω—ã–µ/–í—ã—Ö–æ–¥–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã|
  note right
    **–¢–∏–ø—ã –≤–æ–ø—Ä–æ—Å–æ–≤:**
    ‚Ä¢ TEXT, PHONE, NUMBER
    ‚Ä¢ DATE, YES_NO, CHOICE
  end note

  |–†–æ–ª—å: –°–æ–∏—Å–∫–∞—Ç–µ–ª—å|
  :7.5. –í–≤–µ—Å—Ç–∏ –æ—Ç–≤–µ—Ç;

  |–†–æ–ª—å: Jobzi Bot|
  :7.6. –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –ø–æ —Ç–∏–ø—É:
  ‚Ä¢ PHONE: +7XXXXXXXXXX
  ‚Ä¢ NUMBER: —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã
  ‚Ä¢ DATE: —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç—ã; <<Automated>>

  if (–í–∞–ª–∏–¥–∞—Ü–∏—è OK?) then (–ù–µ—Ç)
    |–†–æ–ª—å: Jobzi Bot|
    :–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ:
    "–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç.
    –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞"; <<Automated>>
  else (–î–∞)
    |–†–æ–ª—å: PostgreSQL|
    :7.7. INSERT INTO answers
    (application_id,
    question_id,
    answer_text,
    question_text [snapshot],
    question_type [snapshot],
    question_order [snapshot]); <<Automated>>

    |–í—Ö–æ–¥–Ω—ã–µ/–í—ã—Ö–æ–¥–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã|
    note right
      **–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
      ‚Ä¢ –û—Ç–≤–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –ë–î
      ‚Ä¢ Snapshot –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
      ‚Ä¢ –ó–∞—â–∏—Ç–∞ –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π
    end note

    |–†–æ–ª—å: Jobzi Bot|
    :–ü–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É
    –≤–æ–ø—Ä–æ—Å—É; <<Automated>>
  endif

repeat while (–ï—Å—Ç—å –µ—â–µ –≤–æ–ø—Ä–æ—Å—ã?) is (–î–∞)
->–ù–µ—Ç;

|–†–æ–ª—å: Jobzi Bot|
:7.8. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ:
"‚úÖ –û—Ç–∫–ª–∏–∫ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!
–†–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏–ª
—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ"; <<Automated>>

|–†–æ–ª—å: Jobzi Bot|
:7.9. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
—Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—é:
"üì© –ù–æ–≤—ã–π –æ—Ç–∫–ª–∏–∫ –Ω–∞ ABC123
–ò–º—è: –ò–≤–∞–Ω
–¢–µ–ª–µ—Ñ–æ–Ω: [Phone0]"; <<Automated>>

|–í—Ö–æ–¥–Ω—ã–µ/–í—ã—Ö–æ–¥–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã|
note right
  **–ò—Ç–æ–≥–æ–≤—ã–µ –≤—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
  ‚Ä¢ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–∫–ª–∏–∫ –≤ –ë–î
  ‚Ä¢ –í—Å–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã
  ‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
  ‚Ä¢ –í—Ä–µ–º—è: 30 —Å–µ–∫ - 1 –º–∏–Ω
    (–≤–º–µ—Å—Ç–æ 5-15 –º–∏–Ω—É—Ç)
  ‚Ä¢ –°–Ω–∏–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏: 90%
end note

stop

legend right
  **–î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è —à–∞–≥–æ–≤ 6-7 –º–∞–∫—Ä–æ—É—Ä–æ–≤–Ω—è TO-BE**

  **–£—á–∞—Å—Ç–Ω–∏–∫–∏:**
  ‚Ä¢ –°–æ–∏—Å–∫–∞—Ç–µ–ª—å - —á–µ–ª–æ–≤–µ–∫
  ‚Ä¢ Jobzi Bot - —Å–∏—Å—Ç–µ–º–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è)
  ‚Ä¢ PostgreSQL - —Å–∏—Å—Ç–µ–º–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è)

  **–®–∞–≥–∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–µ–π (–∑–µ–ª–µ–Ω—ã–π —Ü–≤–µ—Ç):**
  6.4-6.8, 7.1-7.4, 7.6-7.9

  **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
  1. –í—Ä–µ–º—è: 30 —Å–µ–∫ - 1 –º–∏–Ω (‚Üì90%)
  2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
  3. –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞–Ω–∫–µ—Ç–∞
  4. Snapshot –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
  5. –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–µ–π
  6. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
  7. –ù–µ—Ç –ø–µ—Ä–µ—Å–ø—Ä–æ—Å–æ–≤
end legend

@enduml
