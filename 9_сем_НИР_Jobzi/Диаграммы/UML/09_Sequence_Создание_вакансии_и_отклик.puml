@startuml SequenceDiagram
title –î–∏–∞–≥—Ä–∞–º–º–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏: –°–æ–∑–¥–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏ –∏ –æ—Ç–∫–ª–∏–∫

actor "–†–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—å" as Business
participant "Jobzi Bot" as Bot
database "–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö" as DB
actor "–°–æ–∏—Å–∫–∞—Ç–µ–ª—å" as Applicant

== –°–æ–∑–¥–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏ ==

Business -> Bot: –ù–∞–∂–∞—Ç—å "‚ûï –ù–æ–≤–∞—è –≤–∞–∫–∞–Ω—Å–∏—è"
activate Bot
Bot --> Business: "–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏"
deactivate Bot

Business -> Bot: "–†–∞–∑–Ω–æ—Ä–∞–±–æ—á–∏–π"
activate Bot
Bot --> Business: "–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã"
deactivate Bot

Business -> Bot: "–ü–æ–º–æ—â—å –Ω–∞ —Å—Ç—Ä–æ–π–∫–µ..."
activate Bot
Bot --> Business: "–í–≤–µ–¥–∏—Ç–µ –ª–æ–∫–∞—Ü–∏—é [–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å]"
deactivate Bot

Business -> Bot: "–ú–æ—Å–∫–≤–∞"
activate Bot
Bot --> Business: "–í–≤–µ–¥–∏—Ç–µ –∑–∞—Ä–ø–ª–∞—Ç—É [–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å]"
deactivate Bot

Business -> Bot: "50000-70000"
activate Bot
Bot --> Business: –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä
deactivate Bot

Business -> Bot: –ù–∞–∂–∞—Ç—å "‚úÖ –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å"
activate Bot

Bot -> DB: –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ ABC123
activate DB
DB --> Bot: –ö–æ–¥ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω
deactivate DB

Bot -> DB: –°–æ–∑–¥–∞—Ç—å –≤–∞–∫–∞–Ω—Å–∏—é
activate DB
DB --> Bot: –í–∞–∫–∞–Ω—Å–∏—è —Å–æ–∑–¥–∞–Ω–∞ (id=1, code=ABC123)
deactivate DB

Bot --> Business: "‚úÖ –í–∞–∫–∞–Ω—Å–∏—è —Å–æ–∑–¥–∞–Ω–∞!\n–ö–æ–¥: ABC123"
deactivate Bot

Business -> Bot: "‚úÖ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã"
activate Bot

Bot -> DB: –°–æ–∑–¥–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã\n(–ò–º—è, –¢–µ–ª–µ—Ñ–æ–Ω, –í–æ–∑—Ä–∞—Å—Ç, –û–ø—ã—Ç)
activate DB
DB --> Bot: 4 –≤–æ–ø—Ä–æ—Å–∞ —Å–æ–∑–¥–∞–Ω—ã
deactivate DB

Bot --> Business: "–ê–Ω–∫–µ—Ç–∞ —Å–æ–∑–¥–∞–Ω–∞!\n–í–∞–∫–∞–Ω—Å–∏—è –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞"
deactivate Bot

== –û—Ç–∫–ª–∏–∫ —Å–æ–∏—Å–∫–∞—Ç–µ–ª—è ==

Applicant -> Bot: /apply ABC123
activate Bot

Bot -> DB: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥ –≤–∞–∫–∞–Ω—Å–∏–∏
activate DB
DB --> Bot: –í–∞–∫–∞–Ω—Å–∏—è –Ω–∞–π–¥–µ–Ω–∞
deactivate DB

Bot -> DB: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥—É–±–ª–∏ –æ—Ç–∫–ª–∏–∫–æ–≤
activate DB
DB --> Bot: –î—É–±–ª–µ–π –Ω–µ—Ç
deactivate DB

Bot --> Applicant: "–í–∞–∫–∞–Ω—Å–∏—è: –†–∞–∑–Ω–æ—Ä–∞–±–æ—á–∏–π\n–û–ø–∏—Å–∞–Ω–∏–µ: –ü–æ–º–æ—â—å –Ω–∞ —Å—Ç—Ä–æ–π–∫–µ...\n–õ–æ–∫–∞—Ü–∏—è: –ú–æ—Å–∫–≤–∞\n–ó–∞—Ä–ø–ª–∞—Ç–∞: 50000-70000\n\n[‚úÖ –û—Ç–∫–ª–∏–∫–Ω—É—Ç—å—Å—è] [‚ùå –û—Ç–º–µ–Ω–∞]"
deactivate Bot

Applicant -> Bot: –ù–∞–∂–∞—Ç—å "‚úÖ –û—Ç–∫–ª–∏–∫–Ω—É—Ç—å—Å—è"
activate Bot

Bot -> DB: –°–æ–∑–¥–∞—Ç—å –æ—Ç–∫–ª–∏–∫ (status=NEW)
activate DB
DB --> Bot: –û—Ç–∫–ª–∏–∫ —Å–æ–∑–¥–∞–Ω (id=1)
deactivate DB

Bot -> DB: –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤–æ–ø—Ä–æ—Å—ã –≤–∞–∫–∞–Ω—Å–∏–∏
activate DB
DB --> Bot: [–í–æ–ø—Ä–æ—Å 1, 2, 3, 4]
deactivate DB

Bot --> Applicant: "–í–æ–ø—Ä–æ—Å 1/4:\n–ö–∞–∫ –≤–∞—Å –∑–æ–≤—É—Ç?"
deactivate Bot

Applicant -> Bot: "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤"
activate Bot

Bot -> DB: –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç–≤–µ—Ç —Å–æ snapshot
activate DB
note right
  Snapshot –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:
  - answer_text
  - question_text
  - question_type
  - question_order
end note
DB --> Bot: –û—Ç–≤–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω
deactivate DB

Bot --> Applicant: "–í–æ–ø—Ä–æ—Å 2/4:\n–í–∞—à –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞?"
deactivate Bot

Applicant -> Bot: "+79001234567"
activate Bot

Bot -> DB: –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å
activate DB
DB --> Bot: –û—Ç–≤–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω
deactivate DB

Bot --> Applicant: "–í–æ–ø—Ä–æ—Å 3/4:\n–í–∞—à –≤–æ–∑—Ä–∞—Å—Ç?"
deactivate Bot

Applicant -> Bot: "25"
activate Bot

Bot -> DB: –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç–≤–µ—Ç
activate DB
DB --> Bot: –û—Ç–≤–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω
deactivate DB

Bot --> Applicant: "–í–æ–ø—Ä–æ—Å 4/4:\n–û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã?"
deactivate Bot

Applicant -> Bot: "2 –≥–æ–¥–∞ –Ω–∞ —Å—Ç—Ä–æ–π–∫–µ"
activate Bot

Bot -> DB: –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç–≤–µ—Ç
activate DB
DB --> Bot: –í—Å–µ –æ—Ç–≤–µ—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
deactivate DB

Bot --> Applicant: "‚úÖ –û—Ç–∫–ª–∏–∫ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!"
deactivate Bot

Bot -> Business: üì© –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ:\n"–ù–æ–≤—ã–π –æ—Ç–∫–ª–∏–∫ –Ω–∞ ABC123\n–ò–º—è: –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤\n–¢–µ–ª–µ—Ñ–æ–Ω: +79001234567"

legend right
  **–û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏:**
  ‚Ä¢ –†–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—å - –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—å –±–∏–∑–Ω–µ—Å–∞
  ‚Ä¢ –°–æ–∏—Å–∫–∞—Ç–µ–ª—å - –∫–∞–Ω–¥–∏–¥–∞—Ç –Ω–∞ –≤–∞–∫–∞–Ω—Å–∏—é
  ‚Ä¢ Jobzi Bot - Telegram –±–æ—Ç —Å–∏—Å—Ç–µ–º—ã
  ‚Ä¢ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö - PostgreSQL
end legend

@enduml
