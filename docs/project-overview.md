# **JOBZI: ПЛАТФОРМА АВТОМАТИЗАЦИИ ПОДБОРА ВРЕМЕННОГО ПЕРСОНАЛА В TELEGRAM**

## **КОНТЕКСТ И ПРОБЛЕМАТИКА**

### **Рынок неформального найма**

В России и СНГ существует огромный рынок временной, сдельной и вахтовой работы, который традиционно обслуживается неформальными методами. Прорабы, бригадиры, фермеры, владельцы малых бизнесов набирают людей на краткосрочные проекты через:
- Telegram-чаты и группы
- Сарафанное радио
- Доски объявлений (Avito, YouDo)
- Социальные сети

Этот рынок характеризуется:
- **Высокой текучестью кадров** - люди работают 1-3 дня, затем уходят
- **Локальностью** - работа привязана к конкретному месту
- **Простотой требований** - не нужны резюме, дипломы, трудовые книжки
- **Скоростью принятия решений** - наём происходит за несколько часов
- **Неформальностью** - оплата наличными, без оформления

### **Боль работодателей**

Малые работодатели (прорабы, бригадиры, фермеры) тратят до **80% времени** не на собственно подбор, а на:

1. **Хаос в откликах**
   - Резюме приходят в разных форматах
   - Сообщения теряются в чатах
   - Нет структурированной информации
   - Приходится вручную переспрашивать базовые данные

2. **Низкую вовлечённость кандидатов**
   - Сложно отследить, кто откликнулся
   - Нет истории взаимодействия
   - Люди пишут "Интересует" и пропадают

3. **Отсутствие инструментов автоматизации**
   - Нет анкет для сбора данных
   - Нет возможности делать рассылки
   - Нет фильтрации кандидатов по критериям
   - Невозможно экспортировать данные

4. **Ненадёжную коммуникацию**
   - Нет централизованного хранения контактов
   - Теряется история общения с кандидатами
   - Сложно вспомнить, кто работал хорошо, кто плохо

### **Почему существующие решения не работают**

**HeadHunter, SuperJob** - ориентированы на формальную занятость, требуют резюме, трудовые книжки, долгий процесс найма. Не подходят для "нужно 5 грузчиков завтра утром".

**Avito, YouDo** - доски объявлений без автоматизации. Нужно вручную фильтровать отклики, переписываться с каждым кандидатом отдельно.

**Специализированные платформы** (ProfiRu, Услуги) - ориентированы на фрилансеров и сервисные услуги (сантехники, электрики), а не на массовый набор временных рабочих.

**Telegram-чаты** - простой и знакомый инструмент, но без структуры и автоматизации.

---

## **КОНЦЕПТ РЕШЕНИЯ: JOBZI**

### **Ключевая идея**

**Jobzi** - это Telegram-бот, который превращает хаотичный процесс найма временного персонала в структурированную воронку с автоматизацией рутинных операций.

### **Философия продукта**

1. **"Всё в Telegram"** - не нужно выходить из привычного мессенджера, устанавливать приложения, регистрироваться на сайтах

2. **"Минимум действий"** - создать вакансию за 2-3 минуты, откликнуться за 30 секунд

3. **"Структурированные данные"** - все отклики в едином формате, с ответами на нужные вопросы

4. **"Автоматизация рутины"** - рассылки, уведомления, экспорт в Excel

5. **"Для неформального найма"** - нет резюме, трудовых книжек, сложных проверок - только базовая информация (имя, возраст, телефон, опыт)

### **Целевая аудитория**

**Первичная:**
- Прорабы и бригадиры (строительство, ремонт, монтаж)
- Фермеры (сезонные работы, сбор урожая)
- Логисты (погрузка, разгрузка, складские работы)
- Организаторы мероприятий (промоутеры, раздатчики листовок)

**Вторичная:**
- Малый бизнес (кафе, рестораны) - поиск временного персонала на замену
- Курьерские службы
- Клининговые компании

**Общие характеристики:**
- Нужно набирать людей быстро (сегодня-завтра)
- Нужно много людей сразу (3-10 человек)
- Работа краткосрочная (1 день - 1 месяц)
- Неформальный найм (наличные, без оформления)
- Низкая квалификация требуется

---

## **ТЕХНИЧЕСКАЯ АРХИТЕКТУРА**

### **Технологический стек**

**Backend:**
- **Kotlin** - современный, безопасный язык для JVM
- **Spring Boot 4.0.1** - enterprise-grade фреймворк
- **Java 21** - LTS версия JVM

**База данных:**
- **PostgreSQL 16** - надёжная реляционная СУБД
- **Liquibase** - версионирование схемы БД

**Интеграция:**
- **Telegram Bot API 6.9.7.1** - официальная библиотека
- **Apache POI 5.2.5** - генерация Excel-отчётов

**Инфраструктура:**
- **Docker Compose** - контейнеризация БД
- **Gradle (Kotlin DSL)** - система сборки

### **Архитектурные слои**

```
┌─────────────────────────────────────┐
│       Telegram API Layer            │  - Приём/отправка сообщений
│         (JobziBot)                  │  - Управление клавиатурами
└─────────┬───────────────────────────┘
          │
┌─────────▼───────────────────────────┐
│     Handler Layer                   │  - Маршрутизация по типу пользователя
│  (SuperAdmin/Business/Applicant)    │  - Первичная обработка команд
└─────────┬───────────────────────────┘
          │
┌─────────▼───────────────────────────┐
│   Telegram Service Layer            │  - Бизнес-логика диалогов
│  (3 сервиса: Superadmin, Business,  │  - Управление состояниями
│   Applicant)                        │  - Валидация ввода
└─────────┬───────────────────────────┘
          │
┌─────────▼───────────────────────────┐
│    DB Service Layer                 │  - CRUD операции
│  (8 сервисов по доменам)            │  - Бизнес-логика работы с данными
└─────────┬───────────────────────────┘
          │
┌─────────▼───────────────────────────┐
│   Repository Layer (JPA)            │  - Доступ к БД
│  (9 репозиториев)                   │  - Queries
└─────────┬───────────────────────────┘
          │
┌─────────▼───────────────────────────┐
│    PostgreSQL Database              │  - Хранение данных
│  (14 таблиц)                        │  - Constraints, Indexes
└─────────────────────────────────────┘
```

### **Модель данных**

**Мультитенантность:**
- Каждый бизнес изолирован через `business_id`
- Один пользователь может быть админом нескольких бизнесов
- Отклики видны только владельцам соответствующего бизнеса

**Основные сущности:**

1. **Business** - компания/работодатель
2. **User** - все пользователи системы (роли: USER, SUPERADMIN)
3. **BusinessUser** - связь user+business с ролью (ADMIN/MANAGER)
4. **Vacancy** - вакансия с уникальным кодом (ABC123)
5. **Question** - вопросы анкеты (6 типов)
6. **Application** - отклик кандидата
7. **Answer** - ответы на вопросы (с snapshot контекста)
8. **BroadcastChannel** - каналы для рассылок
9. **BroadcastCampaign** - рекламные кампании

### **Система уникальных кодов вакансий**

Каждая вакансия получает короткий код формата **ABC123** (3 буквы + 3 цифры):
- Легко запомнить и произнести
- Легко набрать на телефоне
- Уникальность гарантирована БД constraint
- Защита от прямого доступа по ID

**Примеры:** DFG348, JOB777, WRK456

### **Система управления состояниями диалога**

**79 состояний** разбитых по категориям:
- Создание вакансии (6 состояний)
- Управление анкетой (9 состояний)
- Отклик соискателя (4 состояния)
- Управление откликами (4 состояния)
- Рассылки (15 состояний)
- Суперадмин (10 состояний)

**In-memory хранение** (ConcurrentHashMap):
- Быстрый доступ
- Thread-safe операции
- ⚠️ В production требует миграции на Redis/БД

---

## **ФУНКЦИОНАЛЬНЫЕ ВОЗМОЖНОСТИ**

### **Для суперадмина (SUPERADMIN)**

**Управление бизнесами:**
- Активирование новых бизнесов (3-шаговый диалог)
- Блокировка/разблокировка бизнесов
- Просмотр списка всех бизнесов
- Глобальная статистика

**Workflow активации:**
1. Суперадмин вводит Telegram ID владельца
2. Вводит название бизнеса
3. Опционально вводит описание
4. Система создаёт бизнес и связывает с пользователем
5. Владелец пишет боту `/start` и получает доступ

### **Для представителя бизнеса (Business Admin)**

#### **1. Управление вакансиями**

**Создание вакансии** (пошаговый диалог):
1. Название вакансии
2. Описание работы
3. Локация (опционально)
4. Зарплата (опционально)
5. Предпросмотр
6. Выбор анкеты

**Редактирование:**
- Любое поле вакансии
- Статус (DRAFT → ACTIVE → PAUSED → CLOSED)
- Удаление с каскадом

**Статусы вакансий:**
- **DRAFT** - черновик (не видна соискателям)
- **ACTIVE** - активна (принимает отклики)
- **PAUSED** - на паузе (видна, но отклики закрыты)
- **CLOSED** - закрыта

#### **2. Управление анкетами**

**Стандартные вопросы** (автоматически):
1. Как вас зовут? (TEXT)
2. Ваш номер телефона (PHONE)
3. Сколько вам лет? (NUMBER)
4. Есть ли у вас опыт работы? (YES_NO)

**Кастомные вопросы:**
- **TEXT** - открытый текст
- **PHONE** - номер телефона (валидация)
- **NUMBER** - число
- **DATE** - дата
- **YES_NO** - да/нет
- **CHOICE** - выбор из списка (JSON опции)

**Управление:**
- Добавление вопросов
- Редактирование (текст, тип, обязательность, опции)
- Удаление
- Изменение порядка

#### **3. Управление откликами**

**Просмотр:**
- Все отклики по вакансиям
- Отклики конкретной вакансии
- Детали отклика с ответами на вопросы

**Статусы откликов:**
- **NEW** - новый (не просмотрен)
- **VIEWED** - просмотрен
- **CONTACTED** - связались с кандидатом
- **ACCEPTED** - принят на работу
- **REJECTED** - отклонен

**Операции:**
- Изменение статуса
- Добавление заметок о кандидате
- Экспорт в Excel

**Экспорт в Excel:**
- Информация о вакансии
- Список откликов
- Все ответы на вопросы анкеты
- Форматирование (заголовки, стили, объединение ячеек)

#### **4. Рекламные рассылки**

**Управление каналами:**
- Автоматическое добавление при добавлении бота в группу/канал
- Валидация прав бота (проверка, что бот - админ)
- Просмотр списка каналов
- Удаление каналов

**Создание кампании:**
1. Название кампании
2. Текст сообщения (поддерживается Markdown)
3. Предпросмотр
4. Выбор каналов
5. Отправка или планирование

**Планирование:**
- **ONCE** - разовая отправка
- **DAILY** - ежедневно в указанное время
- **WEEKLY** - еженедельно
- **CUSTOM** - свой cron

**Защита:**
- Валидация доступа к каналам перед отправкой
- Rate limiting (100мс между отправками)
- История всех кампаний
- Статусы (DRAFT/READY/SENDING/SENT/FAILED)

### **Для соискателя (Applicant)**

**Отклик на вакансию:**
1. Вводит код вакансии (ABC123)
2. Видит информацию о вакансии
3. Подтверждает отклик
4. Заполняет анкету (пошагово)
5. Получает подтверждение

**Валидация:**
- Формат кода (regex: [A-Z]{3}\d{3})
- Существование вакансии
- Статус вакансии (ACTIVE)
- Предотвращение дублей откликов

**Просмотр откликов:**
- `/my` - список всех откликов
- Статусы откликов
- Дата отклика

---

## **КЛЮЧЕВЫЕ ИННОВАЦИИ И ОСОБЕННОСТИ**

### **1. Snapshot контекста ответов**

**Проблема:** Если работодатель изменит или удалит вопрос анкеты после того, как кандидат ответил, теряется контекст - непонятно, на какой вопрос был дан ответ.

**Решение:** При сохранении ответа создаётся "снимок" вопроса:
```kotlin
Answer(
    answerText = "Иван Петров",
    questionText = "Как вас зовут?",      // Snapshot
    questionType = "TEXT",                // Snapshot
    questionOrder = 1                     // Snapshot
)
```

Даже если вопрос будет изменён или удалён, ответ сохранит исходный контекст.

### **2. Мультитенантность через один бот**

Одна инсталляция Jobzi обслуживает множество бизнесов:
- Каждый бизнес изолирован через `business_id`
- Данные не пересекаются между бизнесами
- Масштабируется горизонтально

### **3. Автоматическая регистрация каналов**

Когда бота добавляют в группу/канал:
1. Бот получает событие `myChatMember`
2. Проверяет, что добавивший - представитель бизнеса
3. Автоматически создаёт `BroadcastChannel`
4. Отправляет уведомление
5. Канал готов для рассылок

### **4. Система генерации уникальных кодов**

```kotlin
fun generateUniqueCode(): String {
    do {
        val letters = (1..3).map { ('A'..'Z').random() }.joinToString("")
        val digits = (1..3).map { ('0'..'9').random() }.joinToString("")
        val code = "$letters$digits"
    } while (vacancyRepository.existsByCode(code))
    return code
}
```

Коллизии исключаются проверкой в БД.

### **5. Защита от rate limit в рассылках**

```kotlin
channels.forEach { channel ->
    try {
        telegramApiClient.sendMessageToChannel(channel.channelId, campaign.messageText)
        Thread.sleep(100)  // 100мс задержка
    } catch (e: Exception) {
        // Логирование ошибки
    }
}
```

Telegram API ограничивает ~30 сообщений в секунду.

---

## **БИЗНЕС-МОДЕЛЬ**

### **Монетизация**

**Freemium модель:**

**Бесплатный тариф:**
- 1 активная вакансия
- До 10 откликов в месяц
- Базовые вопросы анкеты

**Платный тариф (500-1000₽/месяц):**
- Неограниченные вакансии
- Неограниченные отклики
- Кастомные вопросы
- Рассылки в каналы
- Экспорт в Excel
- Приоритетная поддержка

**Enterprise (от 5000₽/месяц):**
- API доступ
- Интеграция с 1С
- Белый лейбл
- Выделенная инфраструктура

### **Целевые метрики**

**Этап 1 (MVP, 0-6 месяцев):**
- 50 платящих бизнесов
- 500 активных соискателей
- 1000 откликов в месяц

**Этап 2 (Product-Market Fit, 6-12 месяцев):**
- 500 платящих бизнесов
- 10,000 активных соискателей
- 20,000 откликов в месяц

**Этап 3 (Рост, 12-24 месяца):**
- 5,000 платящих бизнесов
- 100,000 активных соискателей
- 200,000 откликов в месяц

### **Unit Economics**

**LTV (Lifetime Value):**
- Средний чек: 700₽/мес
- Средняя жизнь клиента: 18 месяцев
- LTV = 700 × 18 = 12,600₽

**CAC (Customer Acquisition Cost):**
- Telegram реклама: 300₽/клиент
- Органический рост: 100₽/клиент
- Средний CAC: 200₽

**LTV/CAC = 12,600 / 200 = 63x** ✅

---

## **ТЕКУЩИЙ СТАТУС РАЗРАБОТКИ**

### **Завершённые этапы (80% MVP)**

✅ **Инфраструктура** (100%)
- Spring Boot проект
- PostgreSQL + Docker
- Liquibase миграции
- 14 таблиц БД

✅ **Telegram Bot** (100%)
- Полная интеграция
- Система состояний (79 состояний)
- Клавиатуры для всех ролей

✅ **Управление вакансиями** (100%)
- CRUD операции
- Уникальные коды
- 4 статуса

✅ **Система анкет** (100%)
- 6 типов вопросов
- Стандартные + кастомные
- Управление вопросами

✅ **Отклики** (100%)
- Форма отклика
- Валидация
- Snapshot контекста
- 5 статусов

✅ **Работа с кандидатами** (100%)
- Просмотр откликов
- Изменение статусов
- Заметки
- Экспорт в Excel

✅ **Рассылки** (80%)
- Управление каналами
- Создание кампаний
- Отправка
- ⏳ Планирование (в разработке)

### **В разработке**

⏳ **Улучшения UX соискателя** (10 улучшений запланированы)
⏳ **Полная система расписания** (DAILY/WEEKLY/CUSTOM)
⏳ **Аналитика и статистика** (дашборды)
⏳ **Система ролей MANAGER** (ограничения доступа)

### **Roadmap (будущие релизы)**

**v2.0:**
- Поддержка медиа в вакансиях (фото, видео)
- Система рейтингов кандидатов
- Чат с кандидатами внутри бота
- Push-уведомления

**v3.0:**
- API для интеграций
- Мобильное приложение (кроссплатформа)
- Интеграция с 1С
- AI-помощник для подбора

---

## **ТЕХНИЧЕСКИЕ МЕТРИКИ**

**Кодовая база:**
- 53 файла Kotlin
- ~7,958 строк кода
- 14 Entity классов
- 9 JPA репозиториев
- 8 DB сервисов
- 3 Telegram сервиса

**База данных:**
- 14 таблиц
- 12 enum типов (сохраняются как VARCHAR)
- 25+ индексов
- 8 foreign keys с cascade

**Производительность:**
- In-memory состояния (< 1мс доступ)
- Thread-safe операции (ConcurrentHashMap)
- @Transactional операции
- Rate limiting в рассылках

---

## **КОНКУРЕНТНЫЕ ПРЕИМУЩЕСТВА**

1. **Фокус на неформальном найме** - не требует резюме, дипломов, трудовых книжек

2. **"Всё в Telegram"** - не нужно устанавливать приложения, регистрироваться

3. **Скорость** - создать вакансию за 2-3 минуты, откликнуться за 30 секунд

4. **Автоматизация** - рассылки, уведомления, экспорт в Excel

5. **Простота** - интуитивный интерфейс с кнопками, пошаговые диалоги

6. **Мультитенантность** - один бот обслуживает множество бизнесов

7. **Низкая стоимость** - 500-1000₽/мес vs 5000₽+ у конкурентов

---

## **РИСКИ И МИТИГАЦИЯ**

**Технические риски:**
- **In-memory состояния** → Миграция на Redis
- **Ограничения Telegram API** → Rate limiting, retry logic
- **Масштабирование** → Горизонтальное масштабирование, sharding

**Бизнес-риски:**
- **Низкая платежеспособность ЦА** → Фокус на value proposition, гибкие тарифы
- **Конкуренция** → Быстрые итерации, фокус на UX
- **Регуляторные риски** → Работа только с легальными бизнесами

---

## **ВЫВОДЫ**

**Jobzi** - это полноценная SaaS-платформа для автоматизации подбора временного персонала, реализованная как Telegram-бот. Проект закрывает реальную боль малых работодателей в сегменте неформального найма.

**Ключевые достижения:**
- ✅ 80% MVP реализовано
- ✅ Полный функционал для 3 типов пользователей
- ✅ Масштабируемая архитектура
- ✅ Готовность к первым пилотным клиентам

**Уникальность:**
- Фокус на неформальный найм (нет аналогов)
- "Всё в Telegram" (минимальные барьеры входа)
- Автоматизация рутины (экономия 80% времени)
- Мультитенантность (один бот = множество бизнесов)

**Потенциал:**
- Огромный рынок (миллионы временных рабочих мест в год)
- Высокая unit economics (LTV/CAC = 63x)
- Горизонтальное масштабирование
- Возможность выхода на международные рынки
