<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.20.xsd">

    <changeSet id="009-change-user-role-to-varchar" author="jobzi">
        <sqlFile path="sql/009-change-user-role-to-varchar.sql"
                 relativeToChangelogFile="true"
                 encoding="UTF-8"
                 splitStatements="true"
                 stripComments="false"/>
        <rollback>
            CREATE TYPE user_role AS ENUM ('USER', 'SUPERADMIN');
            ALTER TABLE users ALTER COLUMN role TYPE user_role USING role::user_role;
        </rollback>
    </changeSet>

</databaseChangeLog>